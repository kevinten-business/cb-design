# 一种ASDM的架构思路

## 架构图

![asdm.png](asdm.png)

## 一、代码仓库设计思路

### A、项目规模-大
后续随着通道的增加，module会越来越多，放在统一的仓库中，容易导致各种依赖冲突、版本冲突、分支合并冲突等。

拆分成不同的代码仓库可能更好，因为这样可以更好地管理和维护每个子项目。

### B、团队协作-模块分工
每个人负责不同的模块或子项目，分开代码仓库可以独立开发和合并，避免冲突。

### C、依赖关系
各个模块之间存在较强的依赖关系，从这个角度讲可能放到统一的仓库比较好。

解决：将共用的工具类和数据结构，放到共用的module包中并打包成sdk，通过jar包的方式进行共用逻辑的引用

### D、构建和部署
随着module的增加，每个channel可能独立迭代，如果全放到一起可能造成单测和编译过慢。

### 总结：按模块拆分成不同代码仓库
综上，决定按照模块进行代码仓库的拆分，这样一来相同的模块可以复用共用的代码，二是每个代码仓库不至于特别庞大。